import{r as t,cC as p,j as s,cj as N,L as b,v as f,cD as v,cE as w}from"./index-DnxXGEMs.js";const k=()=>{const[l,m]=t.useState(!1),[i,g]=t.useState(""),[n,x]=t.useState(""),[y,o]=t.useState(!1),[c,r]=t.useState(""),h=p(),d=f,u=()=>{m(e=>!e)},j=async e=>{e.preventDefault(),o(!0),r("");try{const a=await v.post(w.AdminLogin,{email:i.trim(),password:n.trim()});a.data.success?(localStorage.setItem("token",a.data.token),h(d.newdashboard)):r(a.data.message||"Login failed")}catch(a){console.error("Login Error:",a.response?.data),r(a.response?.data?.message||"Invalid email or password")}finally{o(!1)}};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"main-wrapper",children:s.jsx("div",{className:"account-content",children:s.jsx("div",{className:"login-wrapper bg-img",children:s.jsx("div",{className:"login-content authent-content",children:s.jsx("form",{className:"form",onSubmit:j,children:s.jsxs("div",{className:"login-userset",children:[s.jsx("div",{className:"login-logo logo-normal",children:s.jsx("img",{src:N,alt:"img"})}),s.jsxs("div",{className:"login-userheading",children:[s.jsx("h3",{children:"Sign In"}),s.jsx("h4",{className:"fs-16",children:"Access the Gk Cabs panel using your email and passcode."})]}),c&&s.jsx("div",{className:"alert alert-danger",children:c}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"email",value:i,onChange:e=>g(e.target.value),required:!0,className:"form-control border-end-0"}),s.jsx("span",{className:"input-group-text border-start-0",children:s.jsx("i",{className:"ti ti-mail"})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Password"}),s.jsxs("div",{className:"pass-group",children:[s.jsx("input",{type:l?"text":"password",className:"form-control",value:n,onChange:e=>x(e.target.value),required:!0}),s.jsx("span",{className:`ti toggle-password text-gray-9 ${l?"ti-eye":"ti-eye-off"}`,onClick:u})]})]}),s.jsx("div",{className:"form-login authentication-check",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12 d-flex align-items-center justify-content-between",children:[s.jsx("div",{className:"custom-control custom-checkbox",children:s.jsxs("label",{className:"checkboxs ps-4 mb-0 pb-0 line-height-1 fs-16 text-gray-6",children:[s.jsx("input",{type:"checkbox",className:"form-control"}),s.jsx("span",{className:"checkmarks"}),"Remember me"]})}),s.jsx("div",{className:"text-end",children:s.jsx(b,{className:"text-orange fs-16 fw-medium",to:d.forgotPassword,children:"Forgot Password?"})})]})})}),s.jsx("div",{className:"form-login",children:s.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Sign In"})})]})})})})})})})};export{k as default};
